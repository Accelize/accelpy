{
  "variables": {
    "image_name": "",
    "os_hardening": "false",
    "ssh_hardening": "false"
  },
  "provisioners": [
    {
      "type": "ansible",
      "command": "{{user `ansible`}}",
      "playbook_file": "./playbook.yml",
      "ansible_env_vars": [
        "ANSIBLE_HOST_KEY_CHECKING=False",
        "ANSIBLE_NOCOLOR=True",
        "ANSIBLE_DEPRECATION_WARNINGS=False",
        "ANSIBLE_DISPLAY_SKIPPED_HOSTS=False",
        "ANSIBLE_DISPLAY_OK_HOSTS=False",
        "ANSIBLE_ACTION_WARNINGS=False"
      ],
      "extra_arguments": [
        "--extra-vars",
        "ansible_python_interpreter=/usr/bin/python",
        "--extra-vars",
        "os_hardening={{user `os_hardening`}}",
        "--extra-vars",
        "ssh_hardening={{user `ssh_hardening`}}",
        "--extra-vars",
        "accelize_drm_driver_name={{user `accelize_drm_driver_name`}}"
      ]
    }
  ],
  "post-processors": [
    {
      "type": "manifest"
    }
  ]
}
